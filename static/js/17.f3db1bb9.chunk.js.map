{"version":3,"sources":["hooks/useIsVisible.js","../node_modules/react-use/esm/useUpdateEffect.js","../node_modules/react-use/esm/useFirstMountState.js","components/loaders/Table.js","../node_modules/react-use/esm/useLocalStorage.js","../node_modules/react-use/esm/useSessionStorage.js","../node_modules/date-fns/esm/max/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","hooks/useStickySWR.js","components/Home.js","../node_modules/classnames/index.js"],"names":["OPTIONS","root","rootMargin","threshold","useIsVisible","elementRef","useState","isVisible","setIsVisible","useEffect","current","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","unobserve","observe","useUpdateEffect","effect","deps","isFirstMount","isFirst","useRef","useFirstMountState","TableLoader","useMeasure","ref","width","windowWidth","window","innerWidth","className","viewBox","height","speed","animate","Array","keys","map","i","x","y","rx","ry","useLocalStorage","key","initialValue","options","isBrowser","noop","Error","deserializer","raw","value","JSON","parse","initializer","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","_a","state","setState","useLayoutEffect","set","useCallback","valOrFunc","newState","remove","removeItem","undefined","useSessionStorage","sessionStorageValue","sessionStorage","serializedState","max","dirtyDatesArray","datesArray","result","requiredArgs","arguments","Date","NaN","prototype","slice","call","dirtyDate","currentDate","toDate","isNaN","Number","_objectWithoutProperties","source","excluded","target","sourceKeys","Object","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","useStickySWR","fetcher","swrOptions","setOptions","args","useSWR","data","isValidating","error","rest","produce","draftOptions","initialData","Actions","lazy","retry","Footer","Level","VaccinationHeader","MapExplorer","MapSwitcher","Minigraphs","Search","StateHeader","Table","TimeseriesExplorer","Home","stateCode","districtName","regionHighlighted","setRegionHighlighted","anchor","setAnchor","expandTable","setExpandTable","mapStatistic","setMapStatistic","MAP_VIEWS","DISTRICTS","mapView","setMapView","date","setDate","location","useLocation","timeseries","DATA_API_ROOT","revalidateOnMount","refreshInterval","API_REFRESH_INTERVAL","homeRightElement","useWindowSize","hideDistrictData","DISTRICT_START_DATE","hideDistrictTestData","formatISO","addDays","parseIndiaDate","DISTRICT_TEST_END_DATE","TESTED_EXPIRING_DAYS","representation","hideVaccinated","getStatistic","lastDataDate","useMemo","updatedDates","meta","tested","vaccinated","filter","lastUpdatedDate","datetime","formatDateObjIndia","noDistrictDataStates","reduce","res","stateData","districts","UNKNOWN_DISTRICT_KEY","PRIMARY_STATISTICS","every","statistic","noRegionHighlightedDistrictData","Helmet","name","content","classnames","expanded","fallback","style","minHeight","dates","position","marginTop","hash","stickied","hasOwn","hasOwnProperty","classNames","classes","arg","argType","push","isArray","inner","apply","toString","join","module","exports","default"],"mappings":"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","file":"static/js/17.f3db1bb9.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\r\n\r\nconst OPTIONS = {\r\n  root: null,\r\n  rootMargin: '0px 0px 0px 0px',\r\n  threshold: 0,\r\n};\r\n\r\nconst useIsVisible = (elementRef) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (elementRef.current) {\r\n      const observer = new IntersectionObserver((entries, observer) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setIsVisible(true);\r\n            observer.unobserve(elementRef.current);\r\n          }\r\n        });\r\n      }, OPTIONS);\r\n      observer.observe(elementRef.current);\r\n    }\r\n  }, [elementRef]);\r\n\r\n  return isVisible;\r\n};\r\n\r\nexport default useIsVisible;\r\n","import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nvar useUpdateEffect = function (effect, deps) {\n    var isFirstMount = useFirstMountState();\n    useEffect(function () {\n        if (!isFirstMount) {\n            return effect();\n        }\n    }, deps);\n};\nexport default useUpdateEffect;\n","import { useRef } from 'react';\nexport function useFirstMountState() {\n    var isFirst = useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n","import ContentLoader from 'react-content-loader';\r\nimport {useMeasure} from 'react-use';\r\n\r\nconst TableLoader = () => {\r\n  let [ref, {width}] = useMeasure();\r\n  const windowWidth = window.innerWidth;\r\n\r\n  width = width || (windowWidth >= 769 ? 528 : windowWidth);\r\n  if (windowWidth < 769) {\r\n    width -= 30;\r\n  }\r\n\r\n  const height = 45;\r\n  const rows = 20;\r\n\r\n  return (\r\n    <div ref={ref} className=\"TableLoader\">\r\n      <ContentLoader\r\n        viewBox={`0 0 ${width} ${height * rows}`}\r\n        height={height * rows}\r\n        width={width}\r\n        speed={2}\r\n        animate={false}\r\n      >\r\n        {[...Array(rows).keys()].map((i) => (\r\n          <rect\r\n            key={i}\r\n            x=\"0\"\r\n            y={height * i}\r\n            rx=\"3\"\r\n            ry=\"3\"\r\n            width={width}\r\n            height={height - 5}\r\n          />\r\n        ))}\r\n      </ContentLoader>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableLoader;\r\n","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import { useEffect, useState } from 'react';\nimport { isBrowser } from './misc/util';\nvar useSessionStorage = function (key, initialValue, raw) {\n    if (!isBrowser) {\n        return [initialValue, function () { }];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () {\n        try {\n            var sessionStorageValue = sessionStorage.getItem(key);\n            if (typeof sessionStorageValue !== 'string') {\n                sessionStorage.setItem(key, raw ? String(initialValue) : JSON.stringify(initialValue));\n                return initialValue;\n            }\n            else {\n                return raw ? sessionStorageValue : JSON.parse(sessionStorageValue || 'null');\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. JSON.parse and JSON.stringify\n            // cat throw, too.\n            return initialValue;\n        }\n    }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n        try {\n            var serializedState = raw ? String(state) : JSON.stringify(state);\n            sessionStorage.setItem(key, serializedState);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. Also JSON.stringify can throw.\n        }\n    });\n    return [state, setState];\n};\nexport default useSessionStorage;\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name max\n * @category Common Helpers\n * @summary Return the latest of the given dates.\n *\n * @description\n * Return the latest of the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - `max` function now accepts an array of dates rather than spread arguments.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   var date1 = new Date(1989, 6, 10)\n *   var date2 = new Date(1987, 1, 11)\n *   var maxDate = max(date1, date2)\n *\n *   // v2.0.0 onward:\n *   var dates = [new Date(1989, 6, 10), new Date(1987, 1, 11)]\n *   var maxDate = max(dates)\n *   ```\n *\n * @param {Date[]|Number[]} datesArray - the dates to compare\n * @returns {Date} the latest of the dates\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which of these dates is the latest?\n * var result = max([\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * ])\n * //=> Sun Jul 02 1995 00:00:00\n */\n\nexport default function max(dirtyDatesArray) {\n  requiredArgs(1, arguments);\n  var datesArray; // `dirtyDatesArray` is Array, Set or Map, or object with custom `forEach` method\n\n  if (dirtyDatesArray && typeof dirtyDatesArray.forEach === 'function') {\n    datesArray = dirtyDatesArray; // If `dirtyDatesArray` is Array-like Object, convert to Array.\n  } else if (typeof dirtyDatesArray === 'object' && dirtyDatesArray !== null) {\n    datesArray = Array.prototype.slice.call(dirtyDatesArray);\n  } else {\n    // `dirtyDatesArray` is non-iterable, return Invalid Date\n    return new Date(NaN);\n  }\n\n  var result;\n  datesArray.forEach(function (dirtyDate) {\n    var currentDate = toDate(dirtyDate);\n\n    if (result === undefined || result < currentDate || isNaN(Number(currentDate))) {\n      result = currentDate;\n    }\n  });\n  return result || new Date(NaN);\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import produce from 'immer';\r\nimport {useState} from 'react';\r\nimport {useUpdateEffect} from 'react-use';\r\nimport useSWR from 'swr';\r\n\r\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\r\n  const [options, setOptions] = useState(swrOptions);\r\n\r\n  const {data, isValidating, error, ...rest} = useSWR(\r\n    key,\r\n    fetcher,\r\n    options,\r\n    ...args\r\n  );\r\n\r\n  useUpdateEffect(() => {\r\n    setOptions(\r\n      produce(options, (draftOptions) => {\r\n        draftOptions.initialData = data;\r\n      })\r\n    );\r\n  }, [data]);\r\n\r\n  return {\r\n    ...rest,\r\n    isValidating,\r\n    error,\r\n    data,\r\n  };\r\n}\r\n\r\nexport default useStickySWR;\r\n","import TableLoader from './loaders/Table';\r\n\r\nimport {\r\n  API_REFRESH_INTERVAL,\r\n  DATA_API_ROOT,\r\n  DISTRICT_START_DATE,\r\n  DISTRICT_TEST_END_DATE,\r\n  MAP_VIEWS,\r\n  PRIMARY_STATISTICS,\r\n  TESTED_EXPIRING_DAYS,\r\n  UNKNOWN_DISTRICT_KEY,\r\n} from '../constants';\r\nimport useIsVisible from '../hooks/useIsVisible';\r\nimport useStickySWR from '../hooks/useStickySWR';\r\nimport {\r\n  fetcher,\r\n  formatDateObjIndia,\r\n  getStatistic,\r\n  parseIndiaDate,\r\n  retry,\r\n} from '../utils/commonFunctions';\r\n\r\nimport classnames from 'classnames';\r\nimport {addDays, formatISO, max} from 'date-fns';\r\nimport {useMemo, useRef, useState, lazy, Suspense} from 'react';\r\nimport {Helmet} from 'react-helmet';\r\nimport {useLocation} from 'react-router-dom';\r\nimport {useLocalStorage, useSessionStorage, useWindowSize} from 'react-use';\r\n\r\nconst Actions = lazy(() => retry(() => import('./Actions')));\r\nconst Footer = lazy(() => retry(() => import('./Footer')));\r\nconst Level = lazy(() => retry(() => import('./Level')));\r\nconst VaccinationHeader = lazy(() =>\r\n  retry(() => import('./VaccinationHeader'))\r\n);\r\nconst MapExplorer = lazy(() => retry(() => import('./MapExplorer')));\r\nconst MapSwitcher = lazy(() => retry(() => import('./MapSwitcher')));\r\nconst Minigraphs = lazy(() => retry(() => import('./Minigraphs')));\r\nconst Search = lazy(() => retry(() => import('./Search')));\r\nconst StateHeader = lazy(() => retry(() => import('./StateHeader')));\r\nconst Table = lazy(() => retry(() => import('./Table')));\r\nconst TimeseriesExplorer = lazy(() =>\r\n  retry(() => import('./TimeseriesExplorer'))\r\n);\r\n\r\nfunction Home() {\r\n  const [regionHighlighted, setRegionHighlighted] = useState({\r\n    stateCode: 'TT',\r\n    districtName: null,\r\n  });\r\n\r\n  const [anchor, setAnchor] = useLocalStorage('anchor', null);\r\n  const [expandTable, setExpandTable] = useLocalStorage('expandTable', false);\r\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\r\n    'mapStatistic',\r\n    'active'\r\n  );\r\n  const [mapView, setMapView] = useLocalStorage('mapView', MAP_VIEWS.DISTRICTS);\r\n\r\n  const [date, setDate] = useState('');\r\n  const location = useLocation();\r\n\r\n  const {data: timeseries} = useStickySWR(\r\n    `${DATA_API_ROOT}/timeseries.min.json`,\r\n    fetcher,\r\n    {\r\n      revalidateOnMount: true,\r\n      refreshInterval: API_REFRESH_INTERVAL,\r\n    }\r\n  );\r\n\r\n  const {data} = useStickySWR(\r\n    `${DATA_API_ROOT}/data${date ? `-${date}` : ''}.min.json`,\r\n    fetcher,\r\n    {\r\n      revalidateOnMount: true,\r\n      refreshInterval: API_REFRESH_INTERVAL,\r\n    }\r\n  );\r\n\r\n  const homeRightElement = useRef();\r\n  const isVisible = useIsVisible(homeRightElement);\r\n  const {width} = useWindowSize();\r\n\r\n  const hideDistrictData = date !== '' && date < DISTRICT_START_DATE;\r\n  const hideDistrictTestData =\r\n    date === '' ||\r\n    date >\r\n      formatISO(\r\n        addDays(parseIndiaDate(DISTRICT_TEST_END_DATE), TESTED_EXPIRING_DAYS),\r\n        {representation: 'date'}\r\n      );\r\n\r\n  const hideVaccinated =\r\n    getStatistic(data?.['TT'], 'total', 'vaccinated') === 0;\r\n\r\n  const lastDataDate = useMemo(() => {\r\n    const updatedDates = [\r\n      data?.['TT']?.meta?.date,\r\n      data?.['TT']?.meta?.tested?.date,\r\n      data?.['TT']?.meta?.vaccinated?.date,\r\n    ].filter((date) => date);\r\n    return updatedDates.length > 0\r\n      ? formatISO(max(updatedDates.map((date) => parseIndiaDate(date))), {\r\n          representation: 'date',\r\n        })\r\n      : null;\r\n  }, [data]);\r\n\r\n  const lastUpdatedDate = useMemo(() => {\r\n    const updatedDates = Object.keys(data || {})\r\n      .map((stateCode) => data?.[stateCode]?.meta?.['last_updated'])\r\n      .filter((datetime) => datetime);\r\n    return updatedDates.length > 0\r\n      ? formatDateObjIndia(\r\n          max(updatedDates.map((datetime) => parseIndiaDate(datetime)))\r\n        )\r\n      : null;\r\n  }, [data]);\r\n\r\n  const noDistrictDataStates = useMemo(\r\n    () =>\r\n      // Heuristic: All cases are in Unknown\r\n      Object.entries(data || {}).reduce((res, [stateCode, stateData]) => {\r\n        res[stateCode] = !!(\r\n          stateData?.districts &&\r\n          stateData.districts?.[UNKNOWN_DISTRICT_KEY] &&\r\n          PRIMARY_STATISTICS.every(\r\n            (statistic) =>\r\n              getStatistic(stateData, 'total', statistic) ===\r\n              getStatistic(\r\n                stateData.districts[UNKNOWN_DISTRICT_KEY],\r\n                'total',\r\n                statistic\r\n              )\r\n          )\r\n        );\r\n        return res;\r\n      }, {}),\r\n    [data]\r\n  );\r\n\r\n  const noRegionHighlightedDistrictData =\r\n    regionHighlighted?.stateCode &&\r\n    regionHighlighted?.districtName &&\r\n    regionHighlighted.districtName !== UNKNOWN_DISTRICT_KEY &&\r\n    noDistrictDataStates[regionHighlighted.stateCode];\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Coronavirus Outbreak in India - covid19india.org</title>\r\n        <meta\r\n          name=\"title\"\r\n          content=\"Coronavirus Outbreak in India: Latest Map and Case Count\"\r\n        />\r\n      </Helmet>\r\n\r\n      <div className=\"Home\">\r\n        <div className={classnames('home-left', {expanded: expandTable})}>\r\n          <div className=\"header\">\r\n            <Suspense fallback={<div />}>\r\n              <Search />\r\n            </Suspense>\r\n\r\n            {!data && !timeseries && <div style={{height: '60rem'}} />}\r\n\r\n            <>\r\n              {!timeseries && <div style={{minHeight: '61px'}} />}\r\n              {timeseries && (\r\n                <Suspense fallback={<div style={{minHeight: '61px'}} />}>\r\n                  <Actions\r\n                    {...{\r\n                      date,\r\n                      setDate,\r\n                      dates: Object.keys(timeseries['TT']?.dates),\r\n                      lastUpdatedDate,\r\n                    }}\r\n                  />\r\n                </Suspense>\r\n              )}\r\n            </>\r\n          </div>\r\n\r\n          <div style={{position: 'relative', marginTop: '1rem'}}>\r\n            {data && (\r\n              <Suspense fallback={<div style={{height: '50rem'}} />}>\r\n                {width >= 769 && !expandTable && (\r\n                  <MapSwitcher {...{mapStatistic, setMapStatistic}} />\r\n                )}\r\n                <Level data={data['TT']} />\r\n              </Suspense>\r\n            )}\r\n\r\n            <>\r\n              {!timeseries && <div style={{height: '123px'}} />}\r\n              {timeseries && (\r\n                <Suspense fallback={<div style={{height: '123px'}} />}>\r\n                  <Minigraphs\r\n                    timeseries={timeseries['TT']?.dates}\r\n                    {...{date}}\r\n                  />\r\n                </Suspense>\r\n              )}\r\n            </>\r\n          </div>\r\n\r\n          {!hideVaccinated && <VaccinationHeader data={data['TT']} />}\r\n\r\n          {data && (\r\n            <Suspense fallback={<TableLoader />}>\r\n              <Table\r\n                {...{\r\n                  data,\r\n                  regionHighlighted,\r\n                  setRegionHighlighted,\r\n                  expandTable,\r\n                  setExpandTable,\r\n                  hideDistrictData,\r\n                  hideDistrictTestData,\r\n                  hideVaccinated,\r\n                  lastDataDate,\r\n                  noDistrictDataStates,\r\n                }}\r\n              />\r\n            </Suspense>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={classnames('home-right', {expanded: expandTable})}\r\n          ref={homeRightElement}\r\n          style={{minHeight: '4rem'}}\r\n        >\r\n          {(isVisible || location.hash) && (\r\n            <>\r\n              {data && (\r\n                <div\r\n                  className={classnames('map-container', {\r\n                    expanded: expandTable,\r\n                    stickied:\r\n                      anchor === 'mapexplorer' || (expandTable && width >= 769),\r\n                  })}\r\n                >\r\n                  <Suspense fallback={<div style={{height: '50rem'}} />}>\r\n                    <StateHeader data={data['TT']} stateCode={'TT'} />\r\n                    <MapExplorer\r\n                      {...{\r\n                        stateCode: 'TT',\r\n                        data,\r\n                        mapStatistic,\r\n                        setMapStatistic,\r\n                        mapView,\r\n                        setMapView,\r\n                        regionHighlighted,\r\n                        setRegionHighlighted,\r\n                        anchor,\r\n                        setAnchor,\r\n                        expandTable,\r\n                        lastDataDate,\r\n                        hideDistrictData,\r\n                        hideDistrictTestData,\r\n                        hideVaccinated,\r\n                        noRegionHighlightedDistrictData,\r\n                      }}\r\n                    />\r\n                  </Suspense>\r\n                </div>\r\n              )}\r\n\r\n              {timeseries && (\r\n                <Suspense fallback={<div style={{height: '50rem'}} />}>\r\n                  <TimeseriesExplorer\r\n                    stateCode=\"TT\"\r\n                    {...{\r\n                      timeseries,\r\n                      date,\r\n                      regionHighlighted,\r\n                      setRegionHighlighted,\r\n                      anchor,\r\n                      setAnchor,\r\n                      expandTable,\r\n                      hideVaccinated,\r\n                      noRegionHighlightedDistrictData,\r\n                    }}\r\n                  />\r\n                </Suspense>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {isVisible && (\r\n        <Suspense fallback={<div />}>\r\n          <Footer />\r\n        </Suspense>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"sourceRoot":""}