{"version":3,"sources":["components/Updates.js"],"names":["newDate","Date","currentDate","Updates","updates","t","useTranslation","useLayoutEffect","className","format","slice","UPDATES_COUNT","reverse","map","activity","index","update","trim","replace","activityDate","timestamp","getDate","capitalize","formatDistance","dangerouslySetInnerHTML","__html","href","target","rel"],"mappings":"+GAAA,2EAQMA,EAAU,IAAIC,KAChBC,EAAcF,EAiFHG,UA/Ef,YAA6B,IAAXC,EAAU,EAAVA,QACTC,EAAKC,cAALD,EAMP,OAJAE,2BAAgB,WACdL,EAAcF,KAId,sBAAKQ,UAAU,UAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,6BAAKC,YAAOP,EAAa,aAG1BE,EACEM,OAAOC,KACPC,UACAC,KAAI,SAAUC,EAAUC,GACvBD,EAASE,OAASF,EAASE,OAAOC,OAAOC,QAAQ,MAAO,SACxDJ,EAASE,OAASF,EAASE,OAAOE,QAAQ,MAAO,UACjD,IAAMC,EAAe,IAAIlB,KAA0B,IAArBa,EAASM,WAoBvC,OACE,eAAC,WAAD,WACGD,EAAaE,YAAcnB,EAAYmB,WApB1CnB,EAAciB,EAGZ,qCACa,IAAVJ,EACC,qBAAKP,UAAU,SAAf,SACE,6BAAKH,EAAE,uBAGT,GAEF,qBAAKG,UAAU,iBAAf,SACE,6BAAKC,YAAOU,EAAc,iBAU1B,IACJ,sBAAiBX,UAAU,SAA3B,UACE,6BACGc,YACCC,YACE,IAAItB,KAA0B,IAArBa,EAASM,WAClB,IAAInB,OAHP,WAKOI,EAAE,UAEZ,oBACEmB,wBAAyB,CACvBC,OAAQX,EAASE,YAXbD,KAJGA,MAsBrB,qBAAKP,UAAU,iBAAf,SACE,mBACEkB,KAAK,uCACLC,OAAO,SACPnB,UAAU,WACVoB,IAAI,sBAJN,SAME,+BACGvB,EAAE,2BACH,cAAC,IAAD","file":"static/js/45.2ea60de7.chunk.js","sourcesContent":["import {UPDATES_COUNT} from '../constants';\r\nimport {capitalize} from '../utils/commonFunctions';\r\n\r\nimport {CrossReferenceIcon} from '@primer/octicons-react';\r\nimport {format, formatDistance} from 'date-fns';\r\nimport {Fragment, useLayoutEffect} from 'react';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\nconst newDate = new Date();\r\nlet currentDate = newDate;\r\n\r\nfunction Updates({updates}) {\r\n  const {t} = useTranslation();\r\n\r\n  useLayoutEffect(() => {\r\n    currentDate = newDate;\r\n  });\r\n\r\n  return (\r\n    <div className=\"updates\">\r\n      <div className=\"updates-header\">\r\n        <h2>{format(currentDate, 'd MMM')}</h2>\r\n      </div>\r\n\r\n      {updates\r\n        .slice(-UPDATES_COUNT)\r\n        .reverse()\r\n        .map(function (activity, index) {\r\n          activity.update = activity.update.trim().replace(/\\n/g, '<br/>');\r\n          activity.update = activity.update.replace(/\\t/g, '\\u2003');\r\n          const activityDate = new Date(activity.timestamp * 1000);\r\n          const addHeader = () => {\r\n            currentDate = activityDate;\r\n\r\n            return (\r\n              <>\r\n                {index === 0 ? (\r\n                  <div className=\"update\">\r\n                    <h4>{t('No updates yet!')}</h4>\r\n                  </div>\r\n                ) : (\r\n                  ''\r\n                )}\r\n                <div className=\"updates-header\">\r\n                  <h2>{format(activityDate, 'd MMM')}</h2>\r\n                </div>\r\n              </>\r\n            );\r\n          };\r\n\r\n          return (\r\n            <Fragment key={index}>\r\n              {activityDate.getDate() !== currentDate.getDate()\r\n                ? addHeader()\r\n                : ' '}\r\n              <div key={index} className=\"update\">\r\n                <h5>\r\n                  {capitalize(\r\n                    formatDistance(\r\n                      new Date(activity.timestamp * 1000),\r\n                      new Date()\r\n                    )\r\n                  ) + ` ${t('ago')}`}\r\n                </h5>\r\n                <h4\r\n                  dangerouslySetInnerHTML={{\r\n                    __html: activity.update,\r\n                  }}\r\n                ></h4>\r\n              </div>\r\n            </Fragment>\r\n          );\r\n        })}\r\n      <div className=\"updates-footer\">\r\n        <a\r\n          href=\"https://t.me/covid19indiaorg_updates\"\r\n          target=\"_blank\"\r\n          className=\"telegram\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <h4>\r\n            {t('Get updates on Telegram')}\r\n            <CrossReferenceIcon />\r\n          </h4>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Updates;\r\n"],"sourceRoot":""}